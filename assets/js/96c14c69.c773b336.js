(self.webpackChunkmunus_webiste=self.webpackChunkmunus_webiste||[]).push([[961],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return o},kt:function(){return d}});var n=a(7294),l=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var u=l().createContext({}),c=function(e){var t=l().useContext(u),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},o=function(e){var t=c(e.components);return l().createElement(u.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return l().createElement(l().Fragment,{},t)}},h=l().forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,i=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),o=c(a),h=n,d=o["".concat(i,".").concat(h)]||o[h]||m[h]||r;return a?l().createElement(d,s(s({ref:t},u),{},{components:a})):l().createElement(d,s({ref:t},u))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=h;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var u=2;u<r;u++)i[u]=a[u];return l().createElement.apply(null,i)}return l().createElement.apply(null,a)}h.displayName="MDXCreateElement"},9443:function(e,t,a){"use strict";var n=a(7294),l=(0,n.createContext)(void 0);t.Z=l},944:function(e,t,a){"use strict";var n=a(7294),l=a(9443);t.Z=function(){var e=(0,n.useContext)(l.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},8458:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g},frontMatter:function(){return k},metadata:function(){return b},toc:function(){return N}});var n=a(2122),l=a(9756),r=a(7294),i=a.n(r),s=a(3905),p=a(944),u=a(6010),c="tabItem_1uMI",o="tabItemActive_2DSg";var m=37,h=39;var d=function(e){var t=e.lazy,a=e.block,n=e.defaultValue,l=e.values,s=e.groupId,d=e.className,f=(0,p.Z)(),v=f.tabGroupChoices,k=f.setTabGroupChoices,b=(0,r.useState)(n),N=b[0],y=b[1],g=r.Children.toArray(e.children),x=[];if(null!=s){var T=v[s];null!=T&&T!==N&&l.some((function(e){return e.value===T}))&&y(T)}var $=function(e){var t=e.currentTarget,a=x.indexOf(t),n=l[a].value;y(n),null!=s&&(k(s,n),setTimeout((function(){var e,a,n,l,r,i,s,p;(e=t.getBoundingClientRect(),a=e.top,n=e.left,l=e.bottom,r=e.right,i=window,s=i.innerHeight,p=i.innerWidth,a>=0&&r<=p&&l<=s&&n>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(o),setTimeout((function(){return t.classList.remove(o)}),2e3))}),150))},P=function(e){var t,a;switch(e.keyCode){case h:var n=x.indexOf(e.target)+1;a=x[n]||x[0];break;case m:var l=x.indexOf(e.target)-1;a=x[l]||x[x.length-1]}null==(t=a)||t.focus()};return i().createElement("div",{className:"tabs-container"},i().createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":a},d)},l.map((function(e){var t=e.value,a=e.label;return i().createElement("li",{role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,className:(0,u.Z)("tabs__item",c,{"tabs__item--active":N===t}),key:t,ref:function(e){return x.push(e)},onKeyDown:P,onFocus:$,onClick:$},a)}))),t?(0,r.cloneElement)(g.filter((function(e){return e.props.value===N}))[0],{className:"margin-vert--md"}):i().createElement("div",{className:"margin-vert--md"},g.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==N})}))))};var f=function(e){var t=e.children,a=e.hidden,n=e.className;return i().createElement("div",{role:"tabpanel",hidden:a,className:n},t)},v=["components"],k={id:"match",title:"Match",sidebar_label:"Match"},b={unversionedId:"match",id:"match",isDocsHomePage:!1,title:"Match",description:"Match expression is natively supported since PHP 8 version. We recommend using that instead of the munus match. Munus match is a great option for PHP 7 support.",source:"@site/docs/match.md",sourceDirName:".",slug:"/match",permalink:"/docs/match",version:"current",sidebar_label:"Match",frontMatter:{id:"match",title:"Match",sidebar_label:"Match"},sidebar:"docs",previous:{title:"Tuple",permalink:"/docs/tuple"},next:{title:"Option",permalink:"/docs/option"}},N=[{value:"Construction",id:"construction",children:[{value:"Callable",id:"callable",children:[]},{value:"Exception",id:"exception",children:[]}]},{value:"Predicates",id:"predicates",children:[{value:"Usage",id:"usage",children:[]}]}],y={toc:N};function g(e){var t=e.components,a=(0,l.Z)(e,v);return(0,s.kt)("wrapper",(0,n.Z)({},y,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},(0,s.kt)("a",{parentName:"p",href:"https://www.php.net/manual/en/control-structures.match.php"},"Match expression is natively supported since PHP 8 version.")," We recommend using that instead of the munus match. Munus match is a great option for PHP 7 support."))),(0,s.kt)("p",null,"Match is an expression similar to the switch statement. It has a subject expression that is compared against multiple alternatives. All of the alternatives return value, which is the result of expression if the alternative is matched."),(0,s.kt)("h2",{id:"construction"},"Construction"),(0,s.kt)("p",null,"To use match, you need to specify some alternatives. Each match expression can include multiple normal cases and one default case."),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue('value')->of(\n    caseOf('value', 'first case matched'),\n    defaultOf('default case matched')\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match ('value') {\n    'value' => 'first case matched',\n    default => 'default case matched'\n};\n")))),(0,s.kt)("p",null,"There are four types of cases in munus:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"caseOf($value, $other)")," - it's the case that compare value, and returns other value if is matched"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"caseCall($value, callable $callable)")," - it's the case that compare value, and returns the result of executed callable"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"defaultOf($other)")," - it's the default case that is matched if any of others are not, and returns other value"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"defaultCall(callable $callable)")," - it's the default case that is matched if any of others are not, and returns the result of executed callable")),(0,s.kt)("h3",{id:"callable"},"Callable"),(0,s.kt)("p",null,"Both munus and native match allow using callables as results."),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue($x)->of(\n    caseCall(5, function ($x) { return $x * 2; }),\n    defaultCall(function ($x) { return $x / 2; })\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match ($x) {\n    5 => (fn () => $x * 2)(),\n    default => (fn () => $x / 2)()\n};\n")))),(0,s.kt)("p",null,"There is a small difference between them. In the native match, you can put the expression that in the normal way, should be run, but in the match, it will be executed only if the alternative is matched. You can get the same behavior in munus match. It's not the most beautiful solution, but it works the same."),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue($x)->of(\n    caseCall(5, function ($x) { return foo(); }),\n    defaultCall(function ($x) { return bar(); })\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match ($x) {\n    5 => foo(),\n    default => bar()\n};\n")))),(0,s.kt)("h3",{id:"exception"},"Exception"),(0,s.kt)("p",null,"A match statement requires to match at least one of the alternatives, if there is no match, it throws an exception."),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"try {\n    matchValue(5)->of(\n        caseOf(4, 'foo'),\n        caseOf(6, 'bar')\n    );\n} catch (\\Munus\\Exception\\MatchNotFoundException $e) {\n    var_dump($e);\n}\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"try {\n    match (5) {\n        4 => 'foo',\n        6 => 'bar',\n    };\n} catch (\\UnhandledMatchError $e) {\n    var_dump($e);\n}\n")))),(0,s.kt)("h2",{id:"predicates"},"Predicates"),(0,s.kt)("p",null,"Munus provides some predicates, that helps with building alternatives."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isIn(iterable $values)")," - accepts ",(0,s.kt)("inlineCode",{parentName:"li"},"iterable")," of any type, and check if value is matched to any of them"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isInstanceOf(string $className)")," - accepts the class name, and check if the value is the instance of it"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isNull()")," - check if the value is null"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isNotNull()")," - check if the value is not null"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isValue($value)")," - accepts value of any type and check if the values are same"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isAllOf(Predicate ...$predicates)")," - accepts ",(0,s.kt)("inlineCode",{parentName:"li"},"iterable")," of predicates, and check if all of them are matched"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isAnyOf(Predicate ...$predicates)")," - accepts ",(0,s.kt)("inlineCode",{parentName:"li"},"iterable")," of predicates, and check if any of them is matched"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},"isNoneOf(Predicate ...$predicates)")," - accepts ",(0,s.kt)("inlineCode",{parentName:"li"},"iterable")," of predicates, and check if none of them are matched")),(0,s.kt)("h3",{id:"usage"},"Usage"),(0,s.kt)("p",null,"In PHP 8 where the match is natively supported, you can also use predicates in expressions. Every predicate is the implementation of the ",(0,s.kt)("inlineCode",{parentName:"p"},"Munus\\Match\\Predicate")," interface. This interface has ",(0,s.kt)("inlineCode",{parentName:"p"},"meet($value): bool")," method, which executes the predicate, and returns ",(0,s.kt)("inlineCode",{parentName:"p"},"bool")," value.",(0,s.kt)("br",{parentName:"p"}),"\n","It's not always more readable solution, but you can choose which you want."),(0,s.kt)("h4",{id:"isin"},"IsIn"),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"},{label:"PHP 8 (predicates)",value:"php8-predicates"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue($x)->of(\n    caseOf(isIn($a, $b, $c), 5)\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match ($x) {\n    $a, $b, $c => 5\n};\n"))),(0,s.kt)(f,{value:"php8-predicates",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    isIn($a, $b, $c)->meet($x) => 5\n};\n")))),(0,s.kt)("h4",{id:"isinstanceof"},"IsInstanceOf"),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"},{label:"PHP 8 (predicates)",value:"php8-predicates"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue($x)->of(\n    caseOf(isInstanceOf(DateTime::class), 5)\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    $x instanceof DateTime => 5\n};\n"))),(0,s.kt)(f,{value:"php8-predicates",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    isInstanceOf(DateTime::class)->meet($x) => 5\n};\n")))),(0,s.kt)("h4",{id:"isallof"},"IsAllOf"),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"},{label:"PHP 8 (predicates)",value:"php8-predicates"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$foo = 'bar';\n$result = matchValue($foo)->of(\n    caseOf(isAllOf(isNotNull(), isValue('bar'))), 5)\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$foo = 'bar';\n$result = match (true) {\n    !is_null($foo) && 'bar' === $foo => 5\n};\n"))),(0,s.kt)(f,{value:"php8-predicates",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$foo = 'bar';\n$result = match (true) {\n    isAllOf(isNotNull(), isValue('bar'))->meet($foo) => 5\n};\n")))),(0,s.kt)("h4",{id:"isanyof"},"IsAnyOf"),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"},{label:"PHP 8 (predicates)",value:"php8-predicates"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue($x)->of(\n    caseOf(isAnyOf(isNotNull(), isInstanceOf(DateTime::class)), 5)\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    !is_null($x) || $x instanceof DateTime => 5\n};\n"))),(0,s.kt)(f,{value:"php8-predicates",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    isAnyOf(isNotNull(), isInstanceOf(DateTime::class))->meet($x) => 5\n};\n")))),(0,s.kt)("h4",{id:"isnoneof"},"IsNoneOf"),(0,s.kt)(d,{defaultValue:"php7",values:[{label:"PHP 7",value:"php7"},{label:"PHP 8",value:"php8"},{label:"PHP 8 (predicates)",value:"php8-predicates"}],mdxType:"Tabs"},(0,s.kt)(f,{value:"php7",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = matchValue($x)->of(\n    caseOf(isNoneOf(isNotNull(), isInstanceOf(DateTime::class)), 5)\n);\n"))),(0,s.kt)(f,{value:"php8",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    !is_null($x) || $x instanceof DateTime => 5\n};\n"))),(0,s.kt)(f,{value:"php8-predicates",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$result = match (true) {\n    isNoneOf(isNotNull(), isInstanceOf(DateTime::class))->meet($x) => 5\n};\n")))))}g.isMDXComponent=!0},6010:function(e,t,a){"use strict";function n(e){var t,a,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(l&&(l+=" "),l+=a);else for(t in e)e[t]&&(l&&(l+=" "),l+=t);return l}function l(){for(var e,t,a=0,l="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(l&&(l+=" "),l+=t);return l}a.d(t,{Z:function(){return l}})}}]);